<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Coordination (OSGi Compendium Release 8)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.osgi.service.coordinator, interface: Coordination">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><b>OSGi&reg; Compendium</b><br/>Release 8</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Coordination.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.osgi.service.coordinator</a></div>
<h1 title="Interface Coordination" class="title">Interface Coordination</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@ProviderType
</span><span class="modifiers">public interface </span><span class="element-name type-name-label">Coordination</span></div>
<div class="block">A Coordination object is used to coordinate a number of independent
 Participants.
 
 <p>
 Once a Coordination is <a href="Coordinator.html#create(java.lang.String,long)"><code>created</code></a>, it
 can be used to add <a href="Participant.html" title="interface in org.osgi.service.coordinator"><code>Participant</code></a> objects. When the Coordination is
 ended, the participants are <a href="Participant.html#ended(org.osgi.service.coordinator.Coordination)"><code>notified</code></a>.
 A Coordination can also fail for various reasons. When this occurs, the
 participants are <a href="Participant.html#failed(org.osgi.service.coordinator.Coordination)"><code>notified</code></a> of the
 failure.
 
 <p>
 A Coordination must be in one of two states, either ACTIVE or TERMINATED. The
 transition between ACTIVE and TERMINATED must be atomic, ensuring that a
 Participant can be guaranteed of either receiving an exception when adding
 itself to a Coordination or of receiving notification the Coordination has
 terminated.
 
 <p>
 A Coordination object is thread safe and can be passed as a parameter to
 other parties regardless of the threads these parties use.
 
 <p>
 The following example code shows how a Coordination should be used.
 
 <pre>
 void foo() {
   Coordination c = coordinator.create(&quot;work&quot;, 0);
   try {
     doWork(c);
   }
   catch (Exception e) {
     c.fail(e);
   }
   finally {
     c.end();
   }
 }
 </pre></div>
<dl class="notes">
<dt>"ThreadSafe"</dt>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></div>
<div class="col-second even-row-color"><code><a href="#ORPHANED" class="member-name-link">ORPHANED</a></code></div>
<div class="col-last even-row-color">
<div class="block">A singleton exception that will be the failure cause when a Coordination
 has been orphaned.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></div>
<div class="col-second odd-row-color"><code><a href="#RELEASED" class="member-name-link">RELEASED</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A singleton exception that will be the failure cause when the
 Coordinations created by a bundle are terminated because the bundle
 released the Coordinator service.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></div>
<div class="col-second even-row-color"><code><a href="#TIMEOUT" class="member-name-link">TIMEOUT</a></code></div>
<div class="col-last even-row-color">
<div class="block">A singleton exception that will be the failure cause when a Coordination
 times out.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addParticipant(org.osgi.service.coordinator.Participant)" class="member-name-link">addParticipant</a><wbr>(<a href="Participant.html" title="interface in org.osgi.service.coordinator">Participant</a>&nbsp;participant)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Register a Participant with this Coordination.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#end()" class="member-name-link">end</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Terminate this Coordination normally.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#extendTimeout(long)" class="member-name-link">extendTimeout</a><wbr>(long&nbsp;timeMillis)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Extend the time out of this Coordination.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#fail(java.lang.Throwable)" class="member-name-link">fail</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;cause)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Terminate this Coordination as a failure with the specified failure
 cause.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../../../../osgi.core/8.1.0-SNAPSHOT/org/osgi/framework/Bundle.html" title="class or interface in org.osgi.framework" class="external-link">Bundle</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getBundle()" class="member-name-link">getBundle</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the bundle that created this Coordination.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Coordination.html" title="interface in org.osgi.service.coordinator">Coordination</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getEnclosingCoordination()" class="member-name-link">getEnclosingCoordination</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the Coordination enclosing this Coordination if this Coordination
 is on the thread local Coordination stack.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getFailure()" class="member-name-link">getFailure</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the failure cause of this Coordination.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getId()" class="member-name-link">getId</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the id assigned to this Coordination.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getName()" class="member-name-link">getName</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the name of this Coordination.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Participant.html" title="interface in org.osgi.service.coordinator">Participant</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getParticipants()" class="member-name-link">getParticipants</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a snapshot of the Participants registered with this Coordination.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getThread()" class="member-name-link">getThread</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the thread in whose thread local Coordination stack this
 Coordination has been <a href="#push()"><code>pushed</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getVariables()" class="member-name-link">getVariables</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the variable map associated with this Coordination.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isTerminated()" class="member-name-link">isTerminated</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns whether this Coordination is terminated.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#join(long)" class="member-name-link">join</a><wbr>(long&nbsp;timeMillis)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Wait until this Coordination is terminated and all registered
 Participants have been notified.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Coordination.html" title="interface in org.osgi.service.coordinator">Coordination</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#push()" class="member-name-link">push</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Push this Coordination object onto the thread local Coordination stack to
 make it the <a href="Coordinator.html#peek()"><code>current Coordination</code></a>.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="TIMEOUT">
<h3>TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span>&nbsp;<span class="element-name">TIMEOUT</span></div>
<div class="block">A singleton exception that will be the failure cause when a Coordination
 times out.</div>
</section>
</li>
<li>
<section class="detail" id="RELEASED">
<h3>RELEASED</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span>&nbsp;<span class="element-name">RELEASED</span></div>
<div class="block">A singleton exception that will be the failure cause when the
 Coordinations created by a bundle are terminated because the bundle
 released the Coordinator service.</div>
</section>
</li>
<li>
<section class="detail" id="ORPHANED">
<h3>ORPHANED</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span>&nbsp;<span class="element-name">ORPHANED</span></div>
<div class="block">A singleton exception that will be the failure cause when a Coordination
 has been orphaned.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getId()">
<h3>getId</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getId</span>()</div>
<div class="block">Returns the id assigned to this Coordination.
 
 The id is assigned by the <a href="Coordinator.html" title="interface in org.osgi.service.coordinator"><code>Coordinator</code></a> service which created this
 Coordination and is unique among all the Coordinations created by the
 Coordinator service and must not be reused as long as the Coordinator
 service remains registered. The id must be positive and monotonically
 increases for each Coordination created by the Coordinator service.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The id assigned to this Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getName()">
<h3>getName</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getName</span>()</div>
<div class="block">Returns the name of this Coordination.
 
 The name is specified when this Coordination was created.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The name of this Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="end()">
<h3>end</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">end</span>()</div>
<div class="block">Terminate this Coordination normally.
 
 <p>
 If this Coordination has been <a href="#push()"><code>pushed</code></a> on the thread local
 Coordination stack of another thread, this method does nothing except
 throw a CoordinationException of type
 <a href="CoordinationException.html#WRONG_THREAD"><code>CoordinationException.WRONG_THREAD</code></a>.
 
 <p>
 If this Coordination has been <a href="#push()"><code>pushed</code></a> on the thread local
 Coordination stack of this thread but is not the
 <a href="Coordinator.html#peek()"><code>current Coordination</code></a>, then the Coordinations
 on the thread local Coordination stack above this Coordination must be
 terminated and removed from the thread local Coordination stack before
 this Coordination is terminated. Each of these Coordinations, starting
 with the current Coordination, will be <a href="#end()"><code>terminated normally</code></a>
 . If the termination throws a <a href="CoordinationException.html" title="class in org.osgi.service.coordinator"><code>CoordinationException</code></a>, then the
 next Coordination on the thread local Coordination stack will be
 <a href="#fail(java.lang.Throwable)"><code>terminated as a failure</code></a> with a failure cause of
 the thrown CoordinationException. At the end of this process, this
 Coordination will be the current Coordination and will have been
 terminated as a failure if any of the terminated Coordinations threw a
 CoordinationException
 
 <p>
 If this Coordination is the <a href="Coordinator.html#peek()"><code>current
 Coordination</code></a>, then it will be <a href="Coordinator.html#pop()"><code>removed</code></a> from the
 thread local Coordination stack.
 
 <p>
 If this Coordination is already terminated, a CoordinationException is
 thrown. If this Coordination was terminated as a failure, the
 <a href="#getFailure()"><code>failure cause</code></a> will be the cause of the thrown
 CoordinationException.
 
 <p>
 Otherwise, this Coordination is terminated normally and then all
 registered <a href="#getParticipants()"><code>Participants</code></a> are
 <a href="Participant.html#ended(org.osgi.service.coordinator.Coordination)"><code>notified</code></a>. Participants should
 finalize any work associated with this Coordination. The successful
 return of this method indicates that the Coordination has terminated
 normally and all registered Participants have been notified of the normal
 termination.
 
 <p>
 It is possible that one of the Participants throws an exception during
 notification. If this happens, this Coordination is considered to have
 partially failed and this method must throw a CoordinationException of
 type <a href="CoordinationException.html#PARTIALLY_ENDED"><code>CoordinationException.PARTIALLY_ENDED</code></a> after all the
 registered Participants have been notified.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="CoordinationException.html" title="class in org.osgi.service.coordinator">CoordinationException</a></code> - If this Coordination has failed, including
         timed out, or partially failed or this Coordination is on the
         thread local Coordination stack of another thread.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[INITIATE]</code> for this Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fail(java.lang.Throwable)">
<h3>fail</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">fail</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;cause)</span></div>
<div class="block">Terminate this Coordination as a failure with the specified failure
 cause.
 
 <p>
 If this Coordination is already <a href="#isTerminated()"><code>terminated</code></a>, this
 method does nothing and returns <code>false</code>.
 
 <p>
 Otherwise, this Coordination is terminated as a failure with the
 specified failure cause and then all registered
 <a href="#getParticipants()"><code>Participants</code></a> are
 <a href="Participant.html#failed(org.osgi.service.coordinator.Coordination)"><code>notified</code></a>. Participants should
 discard any work associated with this Coordination. This method will
 return <code>true</code>.
 
 <p>
 If this Coordination has been <a href="#push()"><code>pushed</code></a> onto a thread local
 Coordination stack, this Coordination is not removed from the stack. The
 creator of this Coordination must still call <a href="#end()"><code>end()</code></a> on this
 Coordination to cause it to be removed from the thread local Coordination
 stack.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cause</code> - The failure cause. The failure cause must not be
        <code>null</code>.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if this Coordination was active and was terminated
         by this method, otherwise <code>false</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[PARTICIPATE]</code> for this
         Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFailure()">
<h3>getFailure</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a></span>&nbsp;<span class="element-name">getFailure</span>()</div>
<div class="block">Returns the failure cause of this Coordination.
 
 <p>
 If this Coordination has <a href="#fail(java.lang.Throwable)"><code>failed</code></a>, then this
 method will return the failure cause.
 
 <p>
 If this Coordination timed out, this method will return <a href="#TIMEOUT"><code>TIMEOUT</code></a>
 as the failure cause. If this Coordination was active when the bundle
 that created it released the <a href="Coordinator.html" title="interface in org.osgi.service.coordinator"><code>Coordinator</code></a> service, this method
 will return <a href="#RELEASED"><code>RELEASED</code></a> as the failure cause. If the Coordination
 was orphaned, this method will return <a href="#ORPHANED"><code>ORPHANED</code></a> as the failure
 cause.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The failure cause of this Coordination or <code>null</code> if this
         Coordination has not terminated as a failure.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[INITIATE]</code> for this Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isTerminated()">
<h3>isTerminated</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isTerminated</span>()</div>
<div class="block">Returns whether this Coordination is terminated.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if this Coordination is terminated, otherwise
         <code>false</code> if this Coordination is active.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addParticipant(org.osgi.service.coordinator.Participant)">
<h3>addParticipant</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addParticipant</span><wbr><span class="parameters">(<a href="Participant.html" title="interface in org.osgi.service.coordinator">Participant</a>&nbsp;participant)</span></div>
<div class="block">Register a Participant with this Coordination.
 
 <p>
 Once a Participant is registered with this Coordination, it is guaranteed
 to receive a notification for either
 <a href="Participant.html#ended(org.osgi.service.coordinator.Coordination)"><code>normal</code></a> or
 <a href="Participant.html#failed(org.osgi.service.coordinator.Coordination)"><code>failure</code></a> termination when this
 Coordination is terminated.
 
 <p>
 Participants are registered using their object identity. Once a
 Participant is registered with this Coordination, subsequent attempts to
 register the Participant again with this Coordination are ignored and the
 Participant is only notified once when this Coordination is terminated.
 
 <p>
 A Participant can only be registered with a single active Coordination at
 a time. If a Participant is already registered with an active
 Coordination, attempts to register the Participation with another active
 Coordination will block until the Coordination the Participant is
 registered with terminates. Notice that in edge cases the notification to
 the Participant that this Coordination has terminated can happen before
 this method returns.
 
 <p>
 Attempting to register a Participant with a <a href="#isTerminated()"><code>terminated</code></a> Coordination will result in a CoordinationException being
 thrown.
 
 <p>
 The ordering of notifying Participants must follow the reverse order in
 which the Participants were registered.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>participant</code> - The Participant to register with this Coordination.
        The participant must not be <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="CoordinationException.html" title="class in org.osgi.service.coordinator">CoordinationException</a></code> - If the Participant could not be registered
         with this Coordination. This exception should normally not be
         caught by the caller but allowed to be caught by the initiator of
         this Coordination.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[PARTICIPATE]</code> for this
         Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getParticipants()">
<h3>getParticipants</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Participant.html" title="interface in org.osgi.service.coordinator">Participant</a>&gt;</span>&nbsp;<span class="element-name">getParticipants</span>()</div>
<div class="block">Returns a snapshot of the Participants registered with this Coordination.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A snapshot of the Participants registered with this Coordination.
         If no Participants are registered with this Coordination, the
         returned list will be empty. The list is ordered in the order the
         Participants were registered. The returned list is the property
         of the caller and can be modified by the caller.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[INITIATE]</code> for this Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getVariables()">
<h3>getVariables</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>&nbsp;<span class="element-name">getVariables</span>()</div>
<div class="block">Returns the variable map associated with this Coordination.
 
 Each Coordination has a map that can be used for communicating between
 different Participants. The key of the map is a class, allowing for
 private data to be stored in the map by using implementation classes or
 shared data by using shared interfaces.
 
 The returned map is not synchronized. Users of the map must synchronize
 on the Map object while making changes.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The variable map associated with this Coordination.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[PARTICIPANT]</code> for this
         Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="extendTimeout(long)">
<h3>extendTimeout</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">extendTimeout</span><wbr><span class="parameters">(long&nbsp;timeMillis)</span></div>
<div class="block">Extend the time out of this Coordination.
 
 <p>
 Participants can call this method to extend the timeout of this
 Coordination with at least the specified time. This can be done by
 Participants when they know a task will take more than normal time.
 
 <p>
 This method will return the new deadline if an extension took place or
 the current deadline if, for whatever reason, no extension takes place.
 Note that if a maximum timeout is in effect, the deadline may not be
 extended by as much as was requested, if at all. If there is no deadline,
 zero is returned. Specifying a timeout extension of 0 will return the
 existing deadline.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeMillis</code> - The time in milliseconds to extend the current timeout.
        If the initial timeout was specified as 0, no extension must take
        place. A zero must have no effect.</dd>
<dt>Returns:</dt>
<dd>The new deadline in milliseconds. If the specified time is 0, the
         existing deadline is returned. If this Coordination was created
         with an initial timeout of 0, no timeout is set and 0 is
         returned.</dd>
<dt>Throws:</dt>
<dd><code><a href="CoordinationException.html" title="class in org.osgi.service.coordinator">CoordinationException</a></code> - If this Coordination
         <a href="#isTerminated()"><code>is terminated</code></a>.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the specified time is negative.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[PARTICIPATE]</code> for this
         Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="join(long)">
<h3>join</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">join</span><wbr><span class="parameters">(long&nbsp;timeMillis)</span>
   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></span></div>
<div class="block">Wait until this Coordination is terminated and all registered
 Participants have been notified.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeMillis</code> - Maximum time in milliseconds to wait. Specifying a time
        of 0 will wait until this Coordination is terminated.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code> - If the wait is interrupted.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the specified time is negative.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[PARTICIPATE]</code> for this
         Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="push()">
<h3>push</h3>
<div class="member-signature"><span class="return-type"><a href="Coordination.html" title="interface in org.osgi.service.coordinator">Coordination</a></span>&nbsp;<span class="element-name">push</span>()</div>
<div class="block">Push this Coordination object onto the thread local Coordination stack to
 make it the <a href="Coordinator.html#peek()"><code>current Coordination</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>This Coordination.</dd>
<dt>Throws:</dt>
<dd><code><a href="CoordinationException.html" title="class in org.osgi.service.coordinator">CoordinationException</a></code> - If this Coordination is already on the any
         thread's thread local Coordination stack or this Coordination
         <a href="#isTerminated()"><code>is terminated</code></a>.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[INITIATE]</code> for this Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getThread()">
<h3>getThread</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></span>&nbsp;<span class="element-name">getThread</span>()</div>
<div class="block">Returns the thread in whose thread local Coordination stack this
 Coordination has been <a href="#push()"><code>pushed</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The thread in whose thread local Coordination stack this
         Coordination has been pushed or <code>null</code> if this Coordination
         is not in any thread local Coordination stack.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[ADMIN]</code> for this Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBundle()">
<h3>getBundle</h3>
<div class="member-signature"><span class="return-type"><a href="../../../../../../osgi.core/8.1.0-SNAPSHOT/org/osgi/framework/Bundle.html" title="class or interface in org.osgi.framework" class="external-link">Bundle</a></span>&nbsp;<span class="element-name">getBundle</span>()</div>
<div class="block">Returns the bundle that created this Coordination. This is the bundle
 that obtained the <a href="Coordinator.html" title="interface in org.osgi.service.coordinator"><code>Coordinator</code></a> service that was used to create
 this Coordination.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The bundle that created this Coordination.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[ADMIN]</code> for this Coordination.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEnclosingCoordination()">
<h3>getEnclosingCoordination</h3>
<div class="member-signature"><span class="return-type"><a href="Coordination.html" title="interface in org.osgi.service.coordinator">Coordination</a></span>&nbsp;<span class="element-name">getEnclosingCoordination</span>()</div>
<div class="block">Returns the Coordination enclosing this Coordination if this Coordination
 is on the thread local Coordination stack.
 
 <p>
 When a Coordination is <a href="#push()"><code>pushed</code></a> onto the thread local
 Coordination stack, the former <a href="Coordinator.html#peek()"><code>current
 Coordination</code></a>, if any, is the enclosing Coordination of this
 Coordination. When this Coordination is <a href="Coordinator.html#pop()"><code>removed</code></a>
 from the thread local Coordination stack, this Coordination no longer has
 an enclosing Coordination.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The Coordination enclosing this Coordination if this Coordination
         is on the thread local Coordination stack or <code>null</code> if this
         Coordination is not on the thread local Coordination stack or has
         no enclosing Coordination.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code> - If the caller does not have
         <code>CoordinationPermission[ADMIN]</code> for this Coordination.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &copy; Contributors to the Eclipse Foundation Licensed under the <a href="https://www.eclipse.org/legal/efsl.php" target="_blank">Eclipse Foundation Specification License â€“ v1.0</a></small></p>
</footer>
</div>
</div>
</body>
</html>
