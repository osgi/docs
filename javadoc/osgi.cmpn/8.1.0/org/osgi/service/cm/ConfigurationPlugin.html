<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ConfigurationPlugin (OSGi Compendium Release 8)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.osgi.service.cm, interface: ConfigurationPlugin">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><b>OSGi&reg; Compendium</b><br/>Release 8</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ConfigurationPlugin.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.osgi.service.cm</a></div>
<h1 title="Interface ConfigurationPlugin" class="title">Interface ConfigurationPlugin</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@ConsumerType
</span><span class="modifiers">public interface </span><span class="element-name type-name-label">ConfigurationPlugin</span></div>
<div class="block">A service interface for processing configuration dictionary before the
 update.
 <p>
 A bundle registers a <code>ConfigurationPlugin</code> object in order to process
 configuration updates before they reach the Managed Service or Managed
 Service Factory. The Configuration Admin service will detect registrations of
 Configuration Plugin services and must call these services every time before
 it calls the <code>ManagedService</code> or <code>ManagedServiceFactory</code>
 <code>updated</code> method. The Configuration Plugin service thus has the
 opportunity to view and modify the properties before they are passed to the
 Managed Service or Managed Service Factory.
 <p>
 Configuration Plugin (plugin) services have full read/write access to all
 configuration information that passes through them.
 <p>
 The <code>Integer</code> <code>service.cmRanking</code> registration property may be
 specified. Not specifying this registration property, or setting it to
 something other than an <code>Integer</code>, is the same as setting it to the
 <code>Integer</code> zero. The <code>service.cmRanking</code> property determines the
 order in which plugins are invoked. Lower ranked plugins are called before
 higher ranked ones. In the event of more than one plugin having the same
 value of <code>service.cmRanking</code>, then the Configuration Admin service
 arbitrarily chooses the order in which they are called.
 <p>
 By convention, plugins with <code>service.cmRanking &lt; 0</code> or
 <code>service.cmRanking &gt; 1000</code> should not make modifications to the
 properties. Any modifications made by such plugins must be ignored.
 <p>
 The Configuration Admin service has the right to hide properties from
 plugins, or to ignore some or all the changes that they make. This might be
 done for security reasons. Any such behavior is entirely implementation
 defined.
 <p>
 A plugin may optionally specify a <code>cm.target</code> registration property
 whose value is the PID of the Managed Service or Managed Service Factory
 whose configuration updates the plugin is intended to intercept. The plugin
 will then only be called with configuration updates that are targeted at the
 Managed Service or Managed Service Factory with the specified PID. Omitting
 the <code>cm.target</code> registration property means that the plugin is called
 for all configuration updates.</div>
<dl class="notes">
<dt>"ThreadSafe"</dt>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#CM_RANKING" class="member-name-link">CM_RANKING</a></code></div>
<div class="col-last even-row-color">
<div class="block">A service property to specify the order in which plugins are invoked.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#CM_TARGET" class="member-name-link">CM_TARGET</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A service property to limit the Managed Service or Managed Service
 Factory configuration dictionaries a Configuration Plugin service
 receives.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#modifyConfiguration(org.osgi.framework.ServiceReference,java.util.Dictionary)" class="member-name-link">modifyConfiguration</a><wbr>(<a href="../../../../../../osgi.core/8.1.0-SNAPSHOT/org/osgi/framework/ServiceReference.html" title="class or interface in org.osgi.framework" class="external-link">ServiceReference</a>&lt;?&gt;&nbsp;reference,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Dictionary.html" title="class or interface in java.util" class="external-link">Dictionary</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;properties)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">View and possibly modify the a set of configuration properties before
 they are sent to the Managed Service or the Managed Service Factory.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="CM_TARGET">
<h3>CM_TARGET</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">CM_TARGET</span></div>
<div class="block">A service property to limit the Managed Service or Managed Service
 Factory configuration dictionaries a Configuration Plugin service
 receives.

 This property contains a <code>String[]</code> of PIDs. A Configuration Admin
 service must call a Configuration Plugin service only when this property
 is not set, or the target service's PID is listed in this property.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.osgi.service.cm.ConfigurationPlugin.CM_TARGET">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CM_RANKING">
<h3>CM_RANKING</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">CM_RANKING</span></div>
<div class="block">A service property to specify the order in which plugins are invoked.

 This property contains an <code>Integer</code> ranking of the plugin. Not
 specifying this registration property, or setting it to something other
 than an <code>Integer</code>, is the same as setting it to the <code>Integer</code>
 zero. This property determines the order in which plugins are invoked.
 Lower ranked plugins are called before higher ranked ones.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.2</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.osgi.service.cm.ConfigurationPlugin.CM_RANKING">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="modifyConfiguration(org.osgi.framework.ServiceReference,java.util.Dictionary)">
<h3>modifyConfiguration</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">modifyConfiguration</span><wbr><span class="parameters">(<a href="../../../../../../osgi.core/8.1.0-SNAPSHOT/org/osgi/framework/ServiceReference.html" title="class or interface in org.osgi.framework" class="external-link">ServiceReference</a>&lt;?&gt;&nbsp;reference,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Dictionary.html" title="class or interface in java.util" class="external-link">Dictionary</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;properties)</span></div>
<div class="block">View and possibly modify the a set of configuration properties before
 they are sent to the Managed Service or the Managed Service Factory. The
 Configuration Plugin services are called in increasing order of their
 <code>service.cmRanking</code> property. If this property is undefined or is a
 non- <code>Integer</code> type, 0 is used.

 <p>
 This method should not modify the properties unless the
 <code>service.cmRanking</code> of this plugin is in the range
 <code>0 &lt;= service.cmRanking &lt;= 1000</code>. Any modification 
 from this plugin is ignored.
 <p>
 If this method throws any <code>Exception</code>, the Configuration Admin
 service must catch it and should log it. Any modifications made by the
 plugin before the exception is thrown are applied.

 <p>
 A Configuration Plugin will only be called for properties from
 configurations that have a location for which the Configuration Plugin
 has permission when security is active. When security is not active, no
 filtering is done.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>reference</code> - reference to the Managed Service or Managed Service
        Factory</dd>
<dd><code>properties</code> - The configuration properties. This argument must not
        contain the "service.bundleLocation" property. The value of this
        property may be obtained from the
        <code>Configuration.getBundleLocation</code> method.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &copy; Contributors to the Eclipse Foundation Licensed under the <a href="https://www.eclipse.org/legal/efsl.php" target="_blank">Eclipse Foundation Specification License – v1.0</a></small></p>
</footer>
</div>
</div>
</body>
</html>
