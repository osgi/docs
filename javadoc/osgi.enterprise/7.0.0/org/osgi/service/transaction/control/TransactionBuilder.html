<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_152) on Wed Oct 10 10:34:39 EDT 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TransactionBuilder (OSGi Enterprise Release 7)</title>
<meta name="date" content="2018-10-10">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransactionBuilder (OSGi Enterprise Release 7)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":6,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>OSGi&trade; Enterprise</b><br/>Release 7</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/osgi/service/transaction/control/ScopedWorkException.html" title="class in org.osgi.service.transaction.control"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/osgi/service/transaction/control/TransactionContext.html" title="interface in org.osgi.service.transaction.control"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/osgi/service/transaction/control/TransactionBuilder.html" target="_top">Frames</a></li>
<li><a href="TransactionBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.osgi.service.transaction.control</div>
<h2 title="Class TransactionBuilder" class="title">Class TransactionBuilder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.osgi.service.transaction.control.TransactionBuilder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/osgi/service/transaction/control/TransactionStarter.html" title="interface in org.osgi.service.transaction.control">TransactionStarter</a></dd>
</dl>
<hr>
<br>
<pre><a href="../../../../../../../osgi.annotation/7.0.1/org/osgi/annotation/versioning/ProviderType.html?is-external=true" title="class or interface in org.osgi.annotation.versioning">@ProviderType</a>
public abstract class <span class="typeNameLabel">TransactionBuilder</span>
extends java.lang.Object
implements <a href="../../../../../org/osgi/service/transaction/control/TransactionStarter.html" title="interface in org.osgi.service.transaction.control">TransactionStarter</a></pre>
<div class="block">A builder for a piece of transactional work</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.Class&lt;? extends java.lang.Throwable&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#noRollbackFor">noRollbackFor</a></span></code>
<div class="block">The list of <code>Throwable</code> types that must not trigger rollback</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.Class&lt;? extends java.lang.Throwable&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#rollbackFor">rollbackFor</a></span></code>
<div class="block">The list of <code>Throwable</code> types that must trigger rollback</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#TransactionBuilder--">TransactionBuilder</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html" title="class in org.osgi.service.transaction.control">TransactionBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#noRollbackFor-java.lang.Class-java.lang.Class...-">noRollbackFor</a></span>(java.lang.Class&lt;? extends java.lang.Throwable&gt;&nbsp;t,
             java.lang.Class&lt;? extends java.lang.Throwable&gt;...&nbsp;throwables)</code>
<div class="block">Declare a list of Exception types (and their subtypes) that <em>must
 not</em> trigger a rollback.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html" title="class in org.osgi.service.transaction.control">TransactionBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#readOnly--">readOnly</a></span>()</code>
<div class="block">Indicate to the Transaction Control service that this transaction will be
 read-only.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html" title="class in org.osgi.service.transaction.control">TransactionBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#rollbackFor-java.lang.Class-java.lang.Class...-">rollbackFor</a></span>(java.lang.Class&lt;? extends java.lang.Throwable&gt;&nbsp;t,
           java.lang.Class&lt;? extends java.lang.Throwable&gt;...&nbsp;throwables)</code>
<div class="block">Declare a list of Exception types (and their subtypes) that <em>must</em>
 trigger a rollback.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.osgi.service.transaction.control.TransactionStarter">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.osgi.service.transaction.control.<a href="../../../../../org/osgi/service/transaction/control/TransactionStarter.html" title="interface in org.osgi.service.transaction.control">TransactionStarter</a></h3>
<code><a href="../../../../../org/osgi/service/transaction/control/TransactionStarter.html#notSupported-java.util.concurrent.Callable-">notSupported</a>, <a href="../../../../../org/osgi/service/transaction/control/TransactionStarter.html#required-java.util.concurrent.Callable-">required</a>, <a href="../../../../../org/osgi/service/transaction/control/TransactionStarter.html#requiresNew-java.util.concurrent.Callable-">requiresNew</a>, <a href="../../../../../org/osgi/service/transaction/control/TransactionStarter.html#supports-java.util.concurrent.Callable-">supports</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="rollbackFor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackFor</h4>
<pre>protected final&nbsp;java.util.List&lt;java.lang.Class&lt;? extends java.lang.Throwable&gt;&gt; rollbackFor</pre>
<div class="block">The list of <code>Throwable</code> types that must trigger rollback</div>
</li>
</ul>
<a name="noRollbackFor">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>noRollbackFor</h4>
<pre>protected final&nbsp;java.util.List&lt;java.lang.Class&lt;? extends java.lang.Throwable&gt;&gt; noRollbackFor</pre>
<div class="block">The list of <code>Throwable</code> types that must not trigger rollback</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TransactionBuilder--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TransactionBuilder</h4>
<pre>public&nbsp;TransactionBuilder()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="rollbackFor-java.lang.Class-java.lang.Class...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackFor</h4>
<pre>@SafeVarargs
public final&nbsp;<a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html" title="class in org.osgi.service.transaction.control">TransactionBuilder</a>&nbsp;rollbackFor(java.lang.Class&lt;? extends java.lang.Throwable&gt;&nbsp;t,
                                                         java.lang.Class&lt;? extends java.lang.Throwable&gt;...&nbsp;throwables)</pre>
<div class="block">Declare a list of Exception types (and their subtypes) that <em>must</em>
 trigger a rollback. By default the transaction will rollback for all
 <code>Exception</code>s. If a more specific type is registered using
 <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#noRollbackFor-java.lang.Class-java.lang.Class...-"><code>noRollbackFor(Class, Class...)</code></a> then that type will not trigger
 rollback. If the same type is registered using both
 <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#rollbackFor-java.lang.Class-java.lang.Class...-"><code>rollbackFor(Class, Class...)</code></a> and
 <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#noRollbackFor-java.lang.Class-java.lang.Class...-"><code>noRollbackFor(Class, Class...)</code></a> then the transaction <em>will
 not</em> begin and will instead throw a <a href="../../../../../org/osgi/service/transaction/control/TransactionException.html" title="class in org.osgi.service.transaction.control"><code>TransactionException</code></a>
 <p>
 Note that the behavior of this method differs from Java EE and Spring in
 two ways:
 <ul>
 <li>In Java EE and Spring transaction management checked exceptions are
 considered "normal returns" and do not trigger rollback. Using an
 Exception as a normal return value is considered a <em>bad</em> design
 practice. In addition this means that checked Exceptions such as
 java.sql.SQLException do not trigger rollback by default. This, in turn,
 leads to implementation mistakes that break the transactional behavior of
 applications.</li>
 <li>In Java EE it is legal to specify the same Exception type in
 <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#rollbackFor"><code>rollbackFor</code></a> and <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#noRollbackFor"><code>noRollbackFor</code></a>. Stating that the same
 Exception should both trigger <em>and</em> not trigger rollback is a
 logical impossibility, and clearly indicates an API usage error. This API
 therefore enforces usage by triggering an exception in this invalid case.
 </li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - </dd>
<dd><code>throwables</code> - The Exception types that should trigger rollback</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder</dd>
</dl>
</li>
</ul>
<a name="noRollbackFor-java.lang.Class-java.lang.Class...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noRollbackFor</h4>
<pre>@SafeVarargs
public final&nbsp;<a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html" title="class in org.osgi.service.transaction.control">TransactionBuilder</a>&nbsp;noRollbackFor(java.lang.Class&lt;? extends java.lang.Throwable&gt;&nbsp;t,
                                                           java.lang.Class&lt;? extends java.lang.Throwable&gt;...&nbsp;throwables)</pre>
<div class="block">Declare a list of Exception types (and their subtypes) that <em>must
 not</em> trigger a rollback. By default the transaction will rollback for
 all <code>Exception</code>s. If an Exception type is registered using this
 method then that type and its subtypes will <em>not</em> trigger
 rollback. If the same type is registered using both
 <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#rollbackFor-java.lang.Class-java.lang.Class...-"><code>rollbackFor(Class, Class...)</code></a> and
 <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#noRollbackFor-java.lang.Class-java.lang.Class...-"><code>noRollbackFor(Class, Class...)</code></a> then the transaction <em>will
 not</em> begin and will instead throw a <a href="../../../../../org/osgi/service/transaction/control/TransactionException.html" title="class in org.osgi.service.transaction.control"><code>TransactionException</code></a>
 <p>
 Note that the behavior of this method differs from Java EE and Spring in
 two ways:
 <ul>
 <li>In Java EE and Spring transaction management checked exceptions are
 considered "normal returns" and do not trigger rollback. Using an
 Exception as a normal return value is considered a <em>bad</em> design
 practice. In addition this means that checked Exceptions such as
 java.sql.SQLException do not trigger rollback by default. This, in turn,
 leads to implementation mistakes that break the transactional behavior of
 applications.</li>
 <li>In Java EE it is legal to specify the same Exception type in
 <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#rollbackFor"><code>rollbackFor</code></a> and <a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html#noRollbackFor"><code>noRollbackFor</code></a>. Stating that the same
 Exception should both trigger <em>and</em> not trigger rollback is a
 logical impossibility, and clearly indicates an API usage error. This API
 therefore enforces usage by triggering an exception in this invalid case.
 </li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - An exception type that should not trigger rollback</dd>
<dd><code>throwables</code> - further exception types that should not trigger
            rollback</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder</dd>
</dl>
</li>
</ul>
<a name="readOnly--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>readOnly</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/osgi/service/transaction/control/TransactionBuilder.html" title="class in org.osgi.service.transaction.control">TransactionBuilder</a>&nbsp;readOnly()</pre>
<div class="block">Indicate to the Transaction Control service that this transaction will be
 read-only. This hint may be used by the Transaction Control service and
 associated resources to optimize the transaction.
 <p>
 Note that this method is for optimization purposes only. The
 TransactionControl service is free to ignore the call if it does not
 offer read-only optimization.
 <p>
 If a transaction is marked read-only and then the scoped work performs a
 write operation on a resource then this is a programming error. The
 resource is free to raise an exception when the write is attempted, or to
 permit the write operation. As a result the transaction may commit
 successfully, or may rollback.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>OSGi&trade; Enterprise</b><br/>Release 7</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/osgi/service/transaction/control/ScopedWorkException.html" title="class in org.osgi.service.transaction.control"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/osgi/service/transaction/control/TransactionContext.html" title="interface in org.osgi.service.transaction.control"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/osgi/service/transaction/control/TransactionBuilder.html" target="_top">Frames</a></li>
<li><a href="TransactionBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; OSGi Alliance (2000, 2018). All Rights Reserved. Licensed under the <a href="../../../../../LICENSE.html">OSGi Specification License, Version 2.0</a></small></p>
</body>
</html>
